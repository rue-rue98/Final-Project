<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <title>Products - Mini E-commerce</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>


<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
    <div class="container">
      <a class="navbar-brand" href="#">Mini E-commerce</a>
      <button class="btn btn-outline-danger ms-auto" id="logoutBtn">Logout</button>
    </div>
  </nav>


  <div class="container">
    <h2 class="mb-4">Product Listing</h2>
    <div class="row" id="productList"></div>
  </div>
 
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
 
  <script>
    // Redirect to login if not authenticated
    if (!localStorage.getItem('token')) {
      window.location.href = 'login.html';
    }


    $('#logoutBtn').on('click', function() {
      localStorage.removeItem('token');
      window.location.href = 'login.html';
    });


    // Fetch and display products
    $.get('https://dummyjson.com/products', function(data) {
      const products = data.products;
      let html = '';
      products.forEach(product => {
        html += `
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <img src="${product.thumbnail}" class="card-img-top" alt="${product.title}" style="height:200px;object-fit:cover;">
              <div class="card-body">
                <h5 class="card-title">${product.title}</h5>
                <p class="card-text">${product.description.substring(0, 60)}...</p>
                <p class="card-text"><strong>$${product.price}</strong></p>
              </div>
            </div>
          </div>
        `;
      });
      $('#productList').html(html);
    });
  </script>


</body>
</html>